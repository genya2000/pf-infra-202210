!function(){"use strict";var e="switch-plus.jp";window.spa&&window.spa.vars?window.spa=window.spa.vars:window.spa=window.spa||{},window.spkps=window.spkps||[];var n=function(e){return null===e||void 0===e||"function"==typeof e};window.spa.scanLink=function(n,t,a){var o=document.getElementsByTagName("a");Array.prototype.forEach.call(o,function(o){var r=new URL(o.href);r.toString().match(/^https?:\/{2,}(.*?)(?:\/|\?|#|$)/)[1]=="r."+e&&(r.searchParams.append("vid",n),r.searchParams.append("client_key",t),a&&r.searchParams.append("lid",a),o.href=r.toString())})},window.spa.url=function(t){var a=(new Date).getTime(),o=Math.round(a/1e3),r=(new Date(1e3*(o+36e4)).toUTCString(),location.href);r=r.replace(/#.*$/,"");var i=function(e){var t={cid:document.querySelector("script[data-spcid]").dataset.spcid,ft:e.spft,vid:e.spvid,t:null,r:null,l:null,q:location.search};if(void 0!==e.splid&&(t.lid=e.splid),n(t.r)&&(t.r=document.referrer),n(t.t)&&(t.t=document.title),n(t.l)&&(t.l=window.navigator.languages&&window.navigator.languages[0]||window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage),n(t.p)){var a=location,o=document.querySelector('link[rel="canonical"][href]');if(o){var r=document.createElement("a");r.href=o.href,r.hostname.replace(/^www\./,"")===location.hostname.replace(/^www\./,"")&&(a=r)}t.p=a.protocol+"//"+a.hostname+a.pathname,t.kp=-1!=window.spkps.indexOf(t.p)}return t}(t||{});if(spa.scanLink(i.vid,i.cid,i.lid),null!==i.p)return i.rnd=Math.random().toString(36).substr(2,5),"https://a."+e+"/b.gif"+function(e){var n=[];for(var t in e)""!==e[t]&&null!==e[t]&&void 0!==e[t]&&!1!==e[t]&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return"?"+n.join("&")}(i)},window.spa.count=function(e){var n=spa.url(e);if(n){var t=document.createElement("img");t.src=n,t.style.position="absolute",t.setAttribute("alt",""),t.setAttribute("aria-hidden","true");var a=function(){t&&t.parentNode&&t.parentNode.removeChild(t)};setTimeout(a,3e3),t.addEventListener("load",a,!1),document.body.appendChild(t)}else console&&"log"in console&&console.warn("spa: not counting because path callback returned null")};var t=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),a=0;a<t.length;a++){for(var o=t[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(n))return o.substring(n.length,o.length)}return null};window.spa.createFrame=function(){var n=spa.get_query("spl");n&&function(e,n,t){var a="";if(a=a+e+"="+n,a+=";path=/",t){var o=new Date;o.setTime(o.getTime()+t),a=a+";expires="+o.toUTCString()}document.cookie=a}("splid",n);var a="https://cdn."+e,o=document.createElement("iframe");o.src=a+"/b/t.html",o.setAttribute("style","width:0;height:0;border:0;border:none"),document.body.appendChild(o),window._spGetMessage=function(e){var n=e[e.message?"message":"data"];e.origin===a&&window.spa.count(n)};var r=window.addEventListener?"addEventListener":"attachEvent";(0,window[r])("attachEvent"===r?"onmessage":"message",window._spGetMessage,!1),o.onload=function(){var e=(new Date).getTime(),n=Math.round(e/1e3),r={spvid:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let n=0,t=e.length;n<t;n++)switch(e[n]){case"x":e[n]=Math.floor(16*Math.random()).toString(16);break;case"y":e[n]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")}(),spcdomain:location.origin,spft:n};t("splid")&&(r.splid=t("splid")),o.contentWindow.postMessage(r,a),o.contentWindow.postMessage("get",a)}},window.spa.get_query=function(e){for(var n=location.search.substr(1).split("&"),t=0;t<n.length;t++)if(0===n[t].toLowerCase().indexOf(e.toLowerCase()+"="))return n[t].substr(e.length+1)};var a=function(){spa.createFrame()};null===document.body?document.addEventListener("DOMContentLoaded",function(){a()},!1):a()}();
